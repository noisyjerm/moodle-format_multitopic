{"version":3,"sources":["../src/multitopic.js"],"names":["init","maxsections","tabcontent","document","getElementById","addEventListener","e","cantaddlink","target","matches","firstElementChild","preventDefault","ModalFactory","create","type","types","ALERT","body","Str","get_string","title","removeOnClose","then","modal","show"],"mappings":"kdAwBA,OACA,O,6iBAQoB,QAAPA,CAAAA,IAAO,CAACC,CAAD,CAAiB,CACjC,GAAIC,CAAAA,CAAU,CAAGC,QAAQ,CAACC,cAAT,CAAwB,8BAAxB,CAAjB,CAEAF,CAAU,CAACG,gBAAX,CAA4B,OAA5B,CAAqC,SAAAC,CAAC,CAAI,CACtC,GAAIC,CAAAA,CAAW,CAAGD,CAAC,CAACE,MAAF,CAASC,OAAT,CAAiB,iBAAjB,CAAlB,CACA,GAAI,KAAAF,CAAJ,CAA2B,CAEvBA,CAAW,CAAGD,CAAC,CAACE,MAAF,CAASE,iBAAT,CAA2BD,OAA3B,CAAmC,iBAAnC,CACjB,CACD,GAAIF,CAAJ,CAAiB,CACbD,CAAC,CAACK,cAAF,GACA,MAAOC,CAAAA,CAAY,CAACC,MAAb,CAAoB,CACvBC,IAAI,CAAEF,CAAY,CAACG,KAAb,CAAmBC,KADF,CAEvBC,IAAI,CAAEC,CAAG,CAACC,UAAJ,CAAe,kBAAf,CAAmC,MAAnC,CAA2ClB,CAA3C,CAFiB,CAGvBmB,KAAK,CAAEF,CAAG,CAACC,UAAJ,CAAe,QAAf,CAHgB,CAIvBE,aAAa,GAJU,CAApB,EAMFC,IANE,CAMG,SAAAC,CAAK,CAAI,CACXA,CAAK,CAACC,IAAN,GACA,MAAOD,CAAAA,CACV,CATE,CAUV,CACJ,CAnBD,CAoBH,C","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Additional scripts for Multitopic course format.\n *\n * @module     format/multitopic\n * @copyright  Te WÄnanga o Aotearoa\n * @author     Jeremy FitzPatrick\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport * as ModalFactory from 'core/modal_factory';\nimport * as Str from 'core/str';\n\n/**\n * Set up the Multitopic course page with eventlistener\n *  for clicking add section controls.\n *\n * @param {number} maxsections maximum number of sections allowed.\n */\nexport const init = (maxsections) => {\n    let tabcontent = document.getElementById(\"adaptable-course-tab-content\");\n\n    tabcontent.addEventListener('click', e => {\n        let cantaddlink = e.target.matches('.cantadd.dimmed');\n        if (cantaddlink === false) {\n            // Maybe we clicked on a tab.\n            cantaddlink = e.target.firstElementChild.matches('.cantadd.dimmed');\n        }\n        if (cantaddlink) {\n            e.preventDefault();\n            return ModalFactory.create({\n                type: ModalFactory.types.ALERT,\n                body: Str.get_string('maxsectionslimit', 'core', maxsections),\n                title: Str.get_string('notice'),\n                removeOnClose: false,\n            })\n                .then(modal => {\n                    modal.show();\n                    return modal;\n                });\n        }\n    });\n};\n"],"file":"multitopic.min.js"}